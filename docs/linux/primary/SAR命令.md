## sar命令 – 系统运行状态统计

sar 命令对系统运行状态进行取样，获取大量取样数据。

### CPU利用率

命令：`sar -p` ，查看一天的CPU利用率。

命令：`sar -u 1 10` ，每隔一秒更新一次，共更新显示10次。

**输出项：**

| 输出项  |                             说明                             |
| :-----: | :----------------------------------------------------------: |
|   CPU   |              all 表示统计信息为所有CPU的平均值               |
|  %user  |    表示在用户级别(application)运行所使用CPU总时间之百分比    |
|  %nice  |     表示在用户级别，用于nice操作所使用CPU总时间之百分比      |
| %system |      表示在内核(kernel)级别运行所使用CPU总时间之百分比       |
| %iowait |         表示用于I/O等待操作所使用的CPU总时间之百分比         |
| %steal  | 管理程序(hypervisor)为另一个虚拟进程提供服务而等待虚拟CPU之百分比 |
|  %idle  |             表示CPU空闲时间占用CPU总时间之百分比             |



### 内存利用率

命令：`sar -r` ，查看一天的内存利用率。

命令：`sar -r 1 10` ，每隔一秒更新一次，共更新显示10次。

**输出项：**

|       输出项        |                        说明                        |
| :-----------------: | :------------------------------------------------: |
|      kbmemfree      |     空闲内存总量，不包括 buffer + cache 的空间     |
|      kbmemused      | 已使用的内存总量，包含应用使用量 + buffer + cached |
|      %memused       |      kbmemused 和内存总量(不包括swap)的百分比      |
| kbbuffers和kbcached |                  buffer 和 cache                   |
|      kbcommit       |                 保证系统所需的内存                 |
|       %commit       |        kbcommit与内存总量(包括swap)的百分比        |

### 磁盘I/O

命令：`sar -d`，查看一天的磁盘I/O使用情况

命令：`sar -d 1 10` ，每隔一秒更新一次，共更新显示10次。

**输出项：**

| 输出项 |                    说明                     |
| :----: | :-----------------------------------------: |
| await  | 表示平均每次设备I/O操作的等待时间(单位毫秒) |
| svctm  | 表示平均每次设备I/O操作的服务时间(单位毫秒) |
| %util  |    表示一秒中有百分之几的时间用于I/O操作    |

### 网络流量

命令：`sar -n DEV` ，查看一天的网络流量使用。

命令：`sar -n DEV 1 10`，每隔一秒更新一次，共更新显示10次。

**输出项：**

|  输出项  |            说明            |
| :------: | :------------------------: |
|  IFACE   |        网络设备名称        |
| rxpck/s  |   每秒接受到的数据包数目   |
| txpck/s  |   每秒中发送出去的包数目   |
|  rxkB/s  |     每秒接收到的字节数     |
|  txkB/s  |    每秒发送出去的字节数    |
| rxcmp/s  |   每秒接收到的压缩包数目   |
| txcmp/s  |  每秒发送出去的压缩包数目  |
| rxmcst/s | 每秒接收到的多播包的包数目 |

